apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
    name: ruoyi-file-policy
    namespace: default
spec:
    egress:
        - ports:
            - port: 8848
              protocol: TCP
          to:
            - ipBlock:
                cidr: 192.168.1.41/32
        - ports:
            - port: 9848
              protocol: TCP
          to:
            - ipBlock:
                cidr: 192.168.1.41/32
        - ports:
            - port: 9000
              protocol: TCP
          to:
            - ipBlock:
                cidr: 8.129.231.12/32
        - ports:
            - port: 22122
              protocol: TCP
          to:
            - ipBlock:
                cidr: 8.129.231.12/32
    ingress:
        - ports:
            - port: 9300
    podSelector:
        matchLabels:
            app: ruoyi-file
    policyTypes:
        - Egress
        - Ingress
